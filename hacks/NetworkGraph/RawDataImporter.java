/** * RawDataImporter.java * * (c) 2000 Wibi Internet */package com.wibinet.networks;import java.io.*;import java.util.*;public class RawDataImporter extends Object implements NetworkDataImporter{	public String getName()	{		return "Raw Data";	}		public boolean acceptsFile(File f)	{		return true;	}		public int getType()	{		return SINGLE_RELATION;	}		public VisualNetworkData readData(InputStream is) throws IOException	{		InputStreamReader isr = new InputStreamReader(is);		BufferedReader in = new BufferedReader(isr);	  double ties[][];	  int nSize;	  String[] labels;	  		try		{			// read first line of data, should have labels?			String line = in.readLine().trim();			StringTokenizer st = new StringTokenizer(line);			nSize = st.countTokens();						labels = new String[nSize];			for(int li=0; li<nSize; li++)			{				labels[li] = st.nextToken();			}						ties = new double[nSize][];						for(int i=0; i<nSize; i++)			{				ties[i] = new double[nSize];					line = in.readLine();				st = new StringTokenizer(line);					// skip label...				st.nextToken();								for(int j=0; j<nSize; j++)				{					ties[i][j] = Double.valueOf(st.nextToken()).doubleValue();				}			}		}		catch(Throwable t)		{			throw new IOException("Data Format error: " + t);		}				// create data and set labels...		NetworkData nData = new NetworkData(ties, true);		VisualNetworkData vData = new VisualNetworkData(nData);		for(int li=0; li<nSize; li++)		{			vData.setLabel(li, labels[li]);		}		return vData;	}}